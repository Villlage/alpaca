{"ast":null,"code":"var _jsxFileName = \"/Users/gilad/code/commitmuse/client/src/app/pages/public/company/my-isa/index.tsx\";\nimport React, { useLayoutEffect, useState } from 'react';\nimport './style.scss';\nimport PageHeader from '../../../../modules/common/PageHeader';\nimport Icon from '../../../../components/Icon';\nimport { notEmptyArray } from '../../../../../helpers/base';\nimport IsaService from '../../../../../services/isa.service';\nimport PageContent from '../../../../modules/common/PageContent';\nimport { Link } from 'react-router-dom';\nimport IsaStatus from '../../../../modules/company/MyIsa/IsaStatus';\nimport Select from '../../../../components/Select/Select';\nimport Message from '../../../../components/Message';\nconst isaService = new IsaService(); // const ISAs: any = [\n//   { id: 1, name: 'Jonah Serna', status: 'active' },\n//   { id: 2, name: 'Dina Castro', status: 'paying' },\n//   { id: 3, name: 'Glenn Stone', status: 'completed' },\n// ]\n\nexport default function MyIsa(props) {\n  const [filter, set_filter] = useState('');\n  const [isas, set_isas] = useState([]);\n  const [request_error, set_request_error] = useState('');\n  const [loading, set_loading] = useState(true);\n\n  const getIsas = async () => {\n    set_loading(true);\n\n    try {\n      const res = await isaService.getIsas();\n\n      if (res.error) {\n        set_loading(false);\n        set_request_error(res.error);\n        return setTimeout(() => set_request_error(''), 3000);\n      }\n\n      set_isas(res);\n    } catch (e) {\n      set_loading(false);\n      set_request_error(e.error || e.toString());\n      return setTimeout(() => set_request_error(''), 3000);\n    }\n  };\n\n  useLayoutEffect(() => {\n    getIsas();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"article\", {\n    className: \"MyIsa-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    user: props.currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PageContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"page-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"My ISA\\u2019s\"), notEmptyArray(isas) && /*#__PURE__*/React.createElement(Select, {\n    value: filter,\n    options: ['View all', 'active', 'paying', 'completed'],\n    onChange: e => set_filter(e),\n    placeholder: 'View all',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  })), notEmptyArray(isas) ? /*#__PURE__*/React.createElement(\"section\", {\n    className: \"my_isa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, isas.filter(i => i.status.includes(filter === 'View all' ? '' : filter)).map((isa, index) => /*#__PURE__*/React.createElement(IsaStatus, {\n    onClick: id => props.history.push('/isa/' + id),\n    id: isa.id,\n    key: index,\n    name: isa.name,\n    status: isa.status,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"isa/create\",\n    className: \"new_isa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: \"new_isa_plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }), \"NEW ISA\")) : /*#__PURE__*/React.createElement(\"section\", {\n    className: \"empty-isa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: \"empty_isa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"You have no ISA offers.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text_with_icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Start by creating a new one.\"), /*#__PURE__*/React.createElement(Icon, {\n    icon: \"arrow_to_button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"isa/create\",\n    className: \"new_isa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: \"new_isa_plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }), \"NEW ISA\"))), /*#__PURE__*/React.createElement(Message, {\n    message: request_error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/gilad/code/commitmuse/client/src/app/pages/public/company/my-isa/index.tsx"],"names":["React","useLayoutEffect","useState","PageHeader","Icon","notEmptyArray","IsaService","PageContent","Link","IsaStatus","Select","Message","isaService","MyIsa","props","filter","set_filter","isas","set_isas","request_error","set_request_error","loading","set_loading","getIsas","res","error","setTimeout","e","toString","currentUser","i","status","includes","map","isa","index","id","history","push","name"],"mappings":"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","sourcesContent":["import React, { useLayoutEffect, useState } from 'react'\nimport './style.scss'\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\nimport PageHeader from '../../../../modules/common/PageHeader'\nimport Icon from '../../../../components/Icon'\nimport { notEmptyArray } from '../../../../../helpers/base'\nimport IsaService from '../../../../../services/isa.service'\nimport PageContent from '../../../../modules/common/PageContent'\nimport { Link } from 'react-router-dom'\nimport IsaStatus from '../../../../modules/company/MyIsa/IsaStatus'\nimport Select from '../../../../components/Select/Select'\nimport Message from '../../../../components/Message'\n\nconst isaService = new IsaService()\n\n// const ISAs: any = [\n//   { id: 1, name: 'Jonah Serna', status: 'active' },\n//   { id: 2, name: 'Dina Castro', status: 'paying' },\n//   { id: 3, name: 'Glenn Stone', status: 'completed' },\n// ]\n\ninterface MyIsa extends ScreenProps {}\n\nexport default function MyIsa(props: MyIsa) {\n  const [filter, set_filter] = useState('')\n  const [isas, set_isas] = useState<any[]>([])\n  const [request_error, set_request_error] = useState('')\n  const [loading, set_loading] = useState(true)\n\n  const getIsas = async () => {\n    set_loading(true)\n\n    try {\n      const res = await isaService.getIsas()\n\n      if (res.error) {\n        set_loading(false)\n        set_request_error(res.error)\n        return setTimeout(() => set_request_error(''), 3000)\n      }\n\n      set_isas(res)\n    } catch (e) {\n      set_loading(false)\n      set_request_error(e.error || e.toString())\n      return setTimeout(() => set_request_error(''), 3000)\n    }\n  }\n\n  useLayoutEffect(() => {\n    getIsas()\n  }, [])\n\n  return (\n    <article className=\"MyIsa-page\">\n      <PageHeader user={props.currentUser} />\n      <PageContent>\n        <header className=\"page-header\">\n          <h1 className=\"page-title\">My ISAâ€™s</h1>\n          {notEmptyArray(isas) && (\n            <Select\n              value={filter}\n              options={['View all', 'active', 'paying', 'completed']}\n              onChange={e => set_filter(e)}\n              placeholder={'View all'}\n            />\n          )}\n        </header>\n        {notEmptyArray(isas) ? (\n          <section className=\"my_isa\">\n            {isas.filter((i: any) => i.status.includes(filter === 'View all' ? '' : filter)).map(\n              (isa: any, index: number) => (\n                <IsaStatus\n                  onClick={(id: number) => props.history.push('/isa/' + id)}\n                  id={isa.id}\n                  key={index}\n                  name={isa.name}\n                  status={isa.status}\n                />\n              ),\n            )}\n            <Link to=\"isa/create\" className=\"new_isa\">\n              <Icon icon=\"new_isa_plus\" />\n              NEW ISA\n            </Link>\n          </section>\n        ) : (\n          <section className=\"empty-isa\">\n            <div className=\"icon\">\n              <Icon icon=\"empty_isa\" />\n            </div>\n            <h2>You have no ISA offers.</h2>\n            <div className=\"text_with_icon\">\n              <p>Start by creating a new one.</p>\n              <Icon icon=\"arrow_to_button\" />\n            </div>\n            <Link to=\"isa/create\" className=\"new_isa\">\n              <Icon icon=\"new_isa_plus\" />\n              NEW ISA\n            </Link>\n          </section>\n        )}\n      </PageContent>\n      <Message message={request_error} />\n    </article>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}