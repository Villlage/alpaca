{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./style.scss';import PageHeader from'../../../../../modules/common/PageHeader';import PageContent from'../../../../../modules/common/PageContent';import FAQ from'../../../../../modules/company/CreateIsa/FAQ';import React,{useState}from'react';import{fixClass,isNumber,validateEmail}from'../../../../../../helpers/base';import Input from'../../../../../components/Input';import TooltipBadge from'../../../../../components/TooltipBadge';import{emailErrorMessage}from'../../../../../../constants/auth';import Button from'../../../../../components/Button';import IsaService from'../../../../../../services/isa.service';import Message from'../../../../../components/Message';import IsaAssessment from'../../../../../modules/common/IsaAssessment';var isaService=new IsaService();var pricing=['From total income','From new raise','Placement'];export default function CreateIsa(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],set_loading=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),request_error=_useState4[0],set_request_error=_useState4[1];var _useState5=useState(pricing[0]),_useState6=_slicedToArray(_useState5,2),selected_pricing=_useState6[0],set_selected_pricing=_useState6[1];var _useState7=useState({email:'',first_name:'',last_name:''}),_useState8=_slicedToArray(_useState7,2),client=_useState8[0],set_client=_useState8[1];var _useState9=useState({email:'',first_name:'',last_name:''}),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],set_error=_useState10[1];var _useState11=useState({description:'',percentage:'',months:'',maximum:'',cancellation_period:'',risk:'',current_income:''}),_useState12=_slicedToArray(_useState11,2),total_income=_useState12[0],set_total_income=_useState12[1];var setIncome=function setIncome(e,key){return set_total_income(_objectSpread({},total_income,_defineProperty({},key,e)));};var notValid=function notValid(){return Object.values(client).some(function(i){return i==='';})||Object.values(total_income).some(function(i){return i==='';})||!validateEmail(client.email);};var sendOffer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:set_loading(true);_context.prev=1;_context.next=4;return isaService.create({current_income:Number(total_income.current_income),percentage:Number(total_income.percentage),cap:Number(total_income.cancellation_period),time_to_be_paid:Number(total_income.months),status:'created',description:total_income.description,coach_id:props.currentUser.id,student_id:1});case 4:res=_context.sent;if(!(res&&res.error)){_context.next=9;break;}set_loading(false);set_request_error(res.error);return _context.abrupt(\"return\",setTimeout(function(){return set_request_error('');},3000));case 9:set_loading(false);_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);set_loading(false);set_request_error(_context.t0.error||_context.t0.toString());setTimeout(function(){return set_request_error('');},3000);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function sendOffer(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"article\",{className:\"CreateIsa-page\"},/*#__PURE__*/React.createElement(PageHeader,{user:props.currentUser}),/*#__PURE__*/React.createElement(PageContent,{title:\"New ISA Offer\"},/*#__PURE__*/React.createElement(\"section\",{className:\"container\"},/*#__PURE__*/React.createElement(\"section\",{className:\"client-info\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Client Information\"),/*#__PURE__*/React.createElement(Input,{withRipple:true,onChange:function onChange(e){return set_client(_objectSpread({},client,{first_name:e}));},value:client.first_name,placeholder:\"First Name\"}),/*#__PURE__*/React.createElement(Input,{withRipple:true,onChange:function onChange(e){return set_client(_objectSpread({},client,{last_name:e}));},value:client.last_name,placeholder:\"Last Name\"}),/*#__PURE__*/React.createElement(Input,{withRipple:true,className:\"email\",error:error.email,onChange:function onChange(e){set_error(_objectSpread({},error,{email:''}));set_client(_objectSpread({},client,{email:e}));!validateEmail(e)&&set_error(_objectSpread({},error,{email:emailErrorMessage}));},value:client.email,placeholder:\"Email Address\"})),/*#__PURE__*/React.createElement(\"footer\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Offer Details\"),/*#__PURE__*/React.createElement(TooltipBadge,{label:\"Pricing\",tooltip:\"help text\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"selects\"},pricing.map(function(item,i){return/*#__PURE__*/React.createElement(\"button\",{key:i,className:\"\".concat(fixClass(selected_pricing===item&&'selected')),onClick:function onClick(){return set_selected_pricing(item);}},item);})),/*#__PURE__*/React.createElement(\"div\",{className:\"form\"},/*#__PURE__*/React.createElement(Input,{withRipple:true,onChange:function onChange(e){return setIncome(e,'description');},placeholder:\"Description\",value:total_income.description}),selected_pricing==='From total income'&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Input,{withRipple:true,postFix:\"%\",onChange:function onChange(e){return isNumber(e)&&setIncome(e,'current_income');},placeholder:\"Current income\",value:total_income.current_income}),/*#__PURE__*/React.createElement(Input,{withRipple:true,postFix:\"%\",onChange:function onChange(e){return isNumber(e)&&setIncome(e,'percentage');},placeholder:\"Percentage to be Paid\",value:total_income.percentage}),/*#__PURE__*/React.createElement(Input,{withRipple:true,postFix:\"Months\",onChange:function onChange(e){return isNumber(e)&&setIncome(e,'months');},placeholder:\"Time to be Paid\",value:total_income.months}),/*#__PURE__*/React.createElement(Input,{withRipple:true,postFix:\"USD\",onChange:function onChange(e){return isNumber(e)&&setIncome(e,'maximum');},placeholder:\"Maximum to be paid\",value:total_income.maximum}),/*#__PURE__*/React.createElement(Input,{withRipple:true,postFix:\"Weeks\",onChange:function onChange(e){return isNumber(e)&&setIncome(e,'cancellation_period');},placeholder:\"Cancellation Period\",value:total_income.cancellation_period}),/*#__PURE__*/React.createElement(Input,{withRipple:true,postFix:\"%\",onChange:function onChange(e){return isNumber(e)&&setIncome(e,'risk');},placeholder:\"Risk Assessment\",value:total_income.risk}),!notValid()&&/*#__PURE__*/React.createElement(IsaAssessment,null)))),selected_pricing.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"actions\"},/*#__PURE__*/React.createElement(Button,{disabled:notValid(),onClick:sendOffer,loading:loading},\"REVIEW and send offer\"))),/*#__PURE__*/React.createElement(FAQ,null))),/*#__PURE__*/React.createElement(Message,{message:request_error}));}","map":{"version":3,"sources":["/Users/gilad/code/commitmuse/client/src/app/pages/public/company/my-isa/create-isa/index.tsx"],"names":["PageHeader","PageContent","FAQ","React","useState","fixClass","isNumber","validateEmail","Input","TooltipBadge","emailErrorMessage","Button","IsaService","Message","IsaAssessment","isaService","pricing","CreateIsa","props","loading","set_loading","request_error","set_request_error","selected_pricing","set_selected_pricing","email","first_name","last_name","client","set_client","error","set_error","description","percentage","months","maximum","cancellation_period","risk","current_income","total_income","set_total_income","setIncome","e","key","notValid","Object","values","some","i","sendOffer","create","Number","cap","time_to_be_paid","status","coach_id","currentUser","id","student_id","res","setTimeout","toString","map","item","length"],"mappings":"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","sourcesContent":["import './style.scss'\nimport { ScreenProps } from '../../../../../../interfaces/baseIntefaces'\nimport PageHeader from '../../../../../modules/common/PageHeader'\nimport PageContent from '../../../../../modules/common/PageContent'\nimport FAQ from '../../../../../modules/company/CreateIsa/FAQ'\nimport React, { useState } from 'react'\nimport { fixClass, isNumber, validateEmail } from '../../../../../../helpers/base'\nimport Input from '../../../../../components/Input'\nimport TooltipBadge from '../../../../../components/TooltipBadge'\nimport { emailErrorMessage } from '../../../../../../constants/auth'\nimport Button from '../../../../../components/Button'\nimport IsaService from '../../../../../../services/isa.service'\nimport Message from '../../../../../components/Message'\nimport IsaAssessment from '../../../../../modules/common/IsaAssessment'\n\nconst isaService = new IsaService()\n\nconst pricing = ['From total income', 'From new raise', 'Placement']\n\ntype IncomeKeys = 'description' | 'percentage' | 'months' | 'maximum' | 'cancellation_period' | 'risk' | 'current_income'\ninterface CreateIsaProps extends ScreenProps {}\n\nexport default function CreateIsa(props: CreateIsaProps) {\n  const [loading, set_loading] = useState(false)\n  const [request_error, set_request_error] = useState('')\n  const [selected_pricing, set_selected_pricing] = useState(pricing[0])\n\n  const [client, set_client] = useState({\n    email: '',\n    first_name: '',\n    last_name: '',\n  })\n\n  const [error, set_error] = useState({\n    email: '',\n    first_name: '',\n    last_name: '',\n  })\n\n  const [total_income, set_total_income] = useState({\n    description: '',\n    percentage: '',\n    months: '',\n    maximum: '',\n    cancellation_period: '',\n    risk: '',\n    current_income: '',\n  })\n\n  const setIncome = (e: string, key: IncomeKeys) => set_total_income({ ...total_income, [key]: e })\n\n  const notValid = () =>\n    Object.values(client).some(i => i === '') ||\n    Object.values(total_income).some(i => i === '') ||\n    !validateEmail(client.email)\n\n  const sendOffer = async () => {\n    set_loading(true)\n    try {\n      const res = await isaService.create({\n        current_income: Number(total_income.current_income),\n        percentage: Number(total_income.percentage),\n        cap: Number(total_income.cancellation_period),\n        time_to_be_paid: Number(total_income.months),\n        status: 'created',\n        description: total_income.description,\n        coach_id: props.currentUser.id,\n        student_id: 1,\n      })\n\n      if (res && res.error) {\n        set_loading(false)\n        set_request_error(res.error)\n        return setTimeout(() => set_request_error(''), 3000)\n      }\n      set_loading(false)\n\n    } catch (e) {\n      set_loading(false)\n      set_request_error(e.error || e.toString())\n      setTimeout(() => set_request_error(''), 3000)\n    }\n  }\n\n  return (\n    <article className=\"CreateIsa-page\">\n      <PageHeader user={props.currentUser} />\n      <PageContent title=\"New ISA Offer\">\n        <section className=\"container\">\n          <section className=\"client-info\">\n            <header>\n              <h2>Client Information</h2>\n              <Input\n                withRipple\n                onChange={e => set_client({ ...client, first_name: e })}\n                value={client.first_name}\n                placeholder=\"First Name\"\n              />\n              <Input\n                withRipple\n                onChange={e => set_client({ ...client, last_name: e })}\n                value={client.last_name}\n                placeholder=\"Last Name\"\n              />\n              <Input\n                withRipple\n                className=\"email\"\n                error={error.email}\n                onChange={e => {\n                  set_error({ ...error, email: '' })\n                  set_client({ ...client, email: e })\n                  !validateEmail(e) && set_error({ ...error, email: emailErrorMessage })\n                }}\n                value={client.email}\n                placeholder=\"Email Address\"\n              />\n            </header>\n            <footer>\n              <h2>Offer Details</h2>\n              <TooltipBadge label=\"Pricing\" tooltip=\"help text\" />\n              <div className=\"selects\">\n                {pricing.map((item, i) => (\n                  <button\n                    key={i}\n                    className={`${fixClass(selected_pricing === item && 'selected')}`}\n                    onClick={() => set_selected_pricing(item)}\n                  >\n                    {item}\n                  </button>\n                ))}\n              </div>\n              <div className=\"form\">\n                <Input\n                  withRipple\n                  onChange={e => setIncome(e, 'description')}\n                  placeholder=\"Description\"\n                  value={total_income.description}\n                />\n                {selected_pricing === 'From total income' && (\n                  <>\n                    <Input\n                      withRipple\n                      postFix=\"%\"\n                      onChange={e => isNumber(e) && setIncome(e, 'current_income')}\n                      placeholder=\"Current income\"\n                      value={total_income.current_income}\n                    />\n                    <Input\n                      withRipple\n                      postFix=\"%\"\n                      onChange={e => isNumber(e) && setIncome(e, 'percentage')}\n                      placeholder=\"Percentage to be Paid\"\n                      value={total_income.percentage}\n                    />\n                    <Input\n                      withRipple\n                      postFix=\"Months\"\n                      onChange={e => isNumber(e) && setIncome(e, 'months')}\n                      placeholder=\"Time to be Paid\"\n                      value={total_income.months}\n                    />\n                    <Input\n                      withRipple\n                      postFix=\"USD\"\n                      onChange={e => isNumber(e) && setIncome(e, 'maximum')}\n                      placeholder=\"Maximum to be paid\"\n                      value={total_income.maximum}\n                    />\n                    <Input\n                      withRipple\n                      postFix=\"Weeks\"\n                      onChange={e => isNumber(e) && setIncome(e, 'cancellation_period')}\n                      placeholder=\"Cancellation Period\"\n                      value={total_income.cancellation_period}\n                    />\n                    <Input\n                      withRipple\n                      postFix=\"%\"\n                      onChange={e => isNumber(e) && setIncome(e, 'risk')}\n                      placeholder=\"Risk Assessment\"\n                      value={total_income.risk}\n                    />\n                    {!notValid() && <IsaAssessment/>}\n                  </>\n                )}\n              </div>\n            </footer>\n            {selected_pricing.length > 0 && (\n              <div className=\"actions\">\n                <Button disabled={notValid()} onClick={sendOffer} loading={loading}>\n                  REVIEW and send offer\n                </Button>\n              </div>\n            )}\n          </section>\n\n          <FAQ />\n        </section>\n      </PageContent>\n      <Message message={request_error}/>\n    </article>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}