{"ast":null,"code":"import React from'react';import{BrowserRouter as Router}from'react-router-dom';import{Route,Switch,Redirect}from'react-router';import NotFound from'./app/pages/public/404';import SignUp from'./app/pages/public/auth/sign-up';import SignIn from'./app/pages/public/auth/sign-in';import PageHeader from'./app/modules/common/PageHeader';import APP_ROUTES from'./constants/app_routes';import NAVIGATION_ITEMS from'./constants/navigationItems';import MainNavigation from'./app/modules/common/MainNavigation';import ClientIsaOfferSigning from'./app/pages/public/client/isa-offer-steps';import CoachSignUp from'./app/pages/public/auth/coach-sign-up';export default function Routes(routerProps){var privateRoute=function privateRoute(Component,route,index,exact){return/*#__PURE__*/React.createElement(Route,{key:index,exact:!!exact,path:route,render:function render(props){return routerProps.currentUser?/*#__PURE__*/React.createElement(Component,Object.assign({},props,routerProps)):/*#__PURE__*/React.createElement(Redirect,{to:'/login'});}});};var getDefaultPage=function getDefaultPage(){if(!routerProps.currentUser||!routerProps.currentUser.user_type){return'/my-isa';}var defaultRoute=APP_ROUTES[routerProps.currentUser.user_type].find(function(route){return route.defaultPage;});return defaultRoute?defaultRoute.path:'/my-isa';};return/*#__PURE__*/React.createElement(Router,{basename:'/web'},/*#__PURE__*/React.createElement(PageHeader,{user:routerProps.currentUser,setCurrentUser:routerProps.setCurrentUser}),routerProps.currentUser&&/*#__PURE__*/React.createElement(MainNavigation,{items:NAVIGATION_ITEMS[routerProps.currentUser.user_type]}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(SignIn,Object.assign({},props,routerProps));}}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",render:function render(props){return/*#__PURE__*/React.createElement(SignUp,Object.assign({},props,routerProps));}}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",render:function render(props){return/*#__PURE__*/React.createElement(SignUp,Object.assign({},props,routerProps));}}),/*#__PURE__*/React.createElement(Route,{path:\"/coach/invitation/:id\",render:function render(props){return/*#__PURE__*/React.createElement(CoachSignUp,Object.assign({},props,routerProps));}}),routerProps.currentUser&&routerProps.currentUser.user_type&&APP_ROUTES[routerProps.currentUser.user_type].map(function(route,index){return privateRoute(route.component,route.path,index,route.exact);}),/*#__PURE__*/React.createElement(Route,{path:\"/client/isa-offer/:id\",render:function render(props){return/*#__PURE__*/React.createElement(ClientIsaOfferSigning,Object.assign({},props,routerProps));}}),/*#__PURE__*/React.createElement(Redirect,{path:\"/\",to:routerProps.currentUser?getDefaultPage():'/login',exact:true}),/*#__PURE__*/React.createElement(Route,{path:\"*\",render:function render(props){return/*#__PURE__*/React.createElement(NotFound,props);}})));}","map":{"version":3,"sources":["/Users/gilad/code/commitmuse/client/src/Routes.tsx"],"names":["React","BrowserRouter","Router","Route","Switch","Redirect","NotFound","SignUp","SignIn","PageHeader","APP_ROUTES","NAVIGATION_ITEMS","MainNavigation","ClientIsaOfferSigning","CoachSignUp","Routes","routerProps","privateRoute","Component","route","index","exact","props","currentUser","getDefaultPage","user_type","defaultRoute","find","defaultPage","path","setCurrentUser","map","component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Route, Switch, Redirect } from 'react-router'\nimport NotFound from './app/pages/public/404'\nimport SignUp from './app/pages/public/auth/sign-up'\nimport SignIn from './app/pages/public/auth/sign-in'\nimport PageHeader from './app/modules/common/PageHeader'\nimport { ScreenProps } from './interfaces/baseIntefaces'\nimport APP_ROUTES from './constants/app_routes'\nimport NAVIGATION_ITEMS from './constants/navigationItems'\nimport MainNavigation from './app/modules/common/MainNavigation'\nimport ClientIsaOfferSigning from './app/pages/public/client/isa-offer-steps'\nimport CoachSignUp from './app/pages/public/auth/coach-sign-up'\n\nexport default function Routes(routerProps: Partial<ScreenProps>) {\n  const privateRoute = (Component: any, route: string, index: number, exact?: boolean) => {\n    return (\n      <Route\n        key={index}\n        exact={!!exact}\n        path={route}\n        render={(props: any) =>\n          routerProps.currentUser ? <Component {...props} {...routerProps} /> : <Redirect to={'/login'} />\n        }\n      />\n    )\n  }\n\n  const getDefaultPage = () => {\n    if (!routerProps.currentUser || !routerProps.currentUser.user_type) {\n      return '/my-isa'\n    }\n\n    const defaultRoute = APP_ROUTES[routerProps.currentUser.user_type].find((route: any) => route.defaultPage)\n\n    return defaultRoute ? defaultRoute.path : '/my-isa'\n  }\n\n  return (\n    <Router basename={'/web'}>\n      <PageHeader user={routerProps.currentUser as any} setCurrentUser={routerProps.setCurrentUser as any} />\n\n      {routerProps.currentUser && <MainNavigation items={NAVIGATION_ITEMS[routerProps.currentUser.user_type]} />}\n\n      <Switch>\n        <Route path=\"/login\" render={(props: any) => <SignIn {...props} {...routerProps} />} />\n        <Route path=\"/register\" render={(props: any) => <SignUp {...props} {...routerProps} />} />\n\n        <Route path=\"/register\" render={(props: any) => <SignUp {...props} {...routerProps} />} />\n        <Route path=\"/coach/invitation/:id\" render={(props: any) => <CoachSignUp {...props} {...routerProps} />} />\n\n        {/* Private Routes */}\n        {routerProps.currentUser &&\n          routerProps.currentUser.user_type &&\n          APP_ROUTES[routerProps.currentUser.user_type].map((route: any, index: number) =>\n            privateRoute(route.component, route.path, index, route.exact),\n          )}\n\n        <Route\n          path=\"/client/isa-offer/:id\"\n          render={(props: any) => <ClientIsaOfferSigning {...props} {...routerProps} />}\n        />\n\n        {/*404*/}\n        <Redirect path=\"/\" to={routerProps.currentUser ? getDefaultPage() : '/login'} exact />\n        <Route path=\"*\" render={(props: any) => <NotFound {...props} />} />\n      </Switch>\n    </Router>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}