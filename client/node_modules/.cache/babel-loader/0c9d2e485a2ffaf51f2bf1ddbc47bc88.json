{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import'./style.scss';import PageContent from'../../../../modules/common/PageContent';import Field from'../../../../components/Field';import Button from'../../../../components/Button';import{log}from'../../../../../services/logging.service';import AuthService from'../../../../../services/auth.service';var authService=new AuthService();export default function Settings(props){var onLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return authService.signOut();case 3:_context.next=5;return props.fetchUser();case 5:props.history.push('/login');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function onLogout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"article\",{className:\"Settings-page\"},/*#__PURE__*/React.createElement(PageContent,{title:\"Settings\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Account Information\"),/*#__PURE__*/React.createElement(\"section\",{className:\"account_info\"},/*#__PURE__*/React.createElement(Field,{title:\"FIRST NAME\"},props.currentUser.first_name),/*#__PURE__*/React.createElement(Field,{title:\"LAST NAME\"},props.currentUser.last_name),/*#__PURE__*/React.createElement(Field,{className:\"full\",title:\"Email address\"},props.currentUser.email),/*#__PURE__*/React.createElement(Field,{className:\"full\",title:\"\"},\"Change Password\")),/*#__PURE__*/React.createElement(\"h2\",null,\"Contract Information\"),/*#__PURE__*/React.createElement(\"section\",{className:\"contract_info\"},/*#__PURE__*/React.createElement(Field,{className:\"full\",title:\"Current income\"},\"$ - / YEAR\"),/*#__PURE__*/React.createElement(Field,{className:\"full\",title:\"\"},\"Cancel ISA Contract\")),/*#__PURE__*/React.createElement(Button,{style:{marginTop:16},onClick:onLogout},\"Logout\"))));}","map":{"version":3,"sources":["/Users/gilad/code/commitmuse/client/src/app/pages/public/client/settings/index.tsx"],"names":["React","PageContent","Field","Button","log","AuthService","authService","Settings","props","onLogout","signOut","fetchUser","history","push","currentUser","first_name","last_name","email","marginTop"],"mappings":"yOAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CAEA,MAAOC,CAAAA,WAAP,KAAwB,wCAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,CACA,OAASC,GAAT,KAAoB,yCAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sCAAxB,CAEA,GAAMC,CAAAA,WAAW,CAAG,GAAID,CAAAA,WAAJ,EAApB,CAIA,cAAe,SAASE,CAAAA,QAAT,CAAkBC,KAAlB,CAAwC,CACrD,GAAMC,CAAAA,QAAQ,0FAAG,yKAEPH,CAAAA,WAAW,CAACI,OAAZ,EAFO,8BAGPF,CAAAA,KAAK,CAACG,SAAN,EAHO,QAIbH,KAAK,CAACI,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EAJa,+EAMbT,GAAG,aAAH,CANa,oEAAH,kBAARK,CAAAA,QAAQ,0CAAd,CAUA,mBACE,+BAAS,SAAS,CAAC,eAAnB,eACE,oBAAC,WAAD,EAAa,KAAK,CAAC,UAAnB,eACE,2BAAK,SAAS,CAAC,SAAf,eACE,oDADF,cAEE,+BAAS,SAAS,CAAC,cAAnB,eACE,oBAAC,KAAD,EAAO,KAAK,CAAC,YAAb,EAA2BD,KAAK,CAACM,WAAN,CAAkBC,UAA7C,CADF,cAEE,oBAAC,KAAD,EAAO,KAAK,CAAC,WAAb,EAA0BP,KAAK,CAACM,WAAN,CAAkBE,SAA5C,CAFF,cAGE,oBAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CAAwB,KAAK,CAAC,eAA9B,EACGR,KAAK,CAACM,WAAN,CAAkBG,KADrB,CAHF,cAME,oBAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CAAwB,KAAK,CAAC,EAA9B,oBANF,CAFF,cAYE,qDAZF,cAaE,+BAAS,SAAS,CAAC,eAAnB,eACE,oBAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CAAwB,KAAK,CAAC,gBAA9B,eADF,cAIE,oBAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CAAwB,KAAK,CAAC,EAA9B,wBAJF,CAbF,cAqBE,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAEC,SAAS,CAAE,EAAb,CAAf,CAAkC,OAAO,CAAET,QAA3C,WArBF,CADF,CADF,CADF,CA+BD","sourcesContent":["import React from 'react'\nimport './style.scss'\nimport { ScreenProps } from '../../../../../interfaces/baseIntefaces'\nimport PageContent from '../../../../modules/common/PageContent'\nimport Field from '../../../../components/Field'\nimport Button from '../../../../components/Button'\nimport { log } from '../../../../../services/logging.service'\nimport AuthService from '../../../../../services/auth.service'\n\nconst authService = new AuthService()\n\ninterface SettingsProps extends ScreenProps {}\n\nexport default function Settings(props: SettingsProps) {\n  const onLogout = async () => {\n    try {\n      await authService.signOut()\n      await props.fetchUser()\n      props.history.push('/login')\n    } catch (e) {\n      log(e)\n    }\n  }\n\n  return (\n    <article className=\"Settings-page\">\n      <PageContent title=\"Settings\">\n        <div className=\"wrapper\">\n          <h2>Account Information</h2>\n          <section className=\"account_info\">\n            <Field title=\"FIRST NAME\">{props.currentUser.first_name}</Field>\n            <Field title=\"LAST NAME\">{props.currentUser.last_name}</Field>\n            <Field className=\"full\" title=\"Email address\">\n              {props.currentUser.email}\n            </Field>\n            <Field className=\"full\" title=\"\">\n              Change Password\n            </Field>\n          </section>\n          <h2>Contract Information</h2>\n          <section className=\"contract_info\">\n            <Field className=\"full\" title=\"Current income\">\n              $ - / YEAR\n            </Field>\n            <Field className=\"full\" title=\"\">\n              Cancel ISA Contract\n            </Field>\n          </section>\n          <Button style={{ marginTop: 16 }} onClick={onLogout}>\n            Logout\n          </Button>\n        </div>\n      </PageContent>\n    </article>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}