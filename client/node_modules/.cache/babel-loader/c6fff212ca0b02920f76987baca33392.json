{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gilad/code/commitmuse/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./style.scss';import React,{useState}from'react';import Input from'../../../../components/Input';import Button from'../../../../components/Button';import TooltipBadge from'../../../../components/TooltipBadge';import{intOrFloat,isNumber}from'../../../../../helpers/base';import IsaAssessment from'../../../common/IsaAssessment';import Field from'../../../../components/Field';import ButtonSelect from'../../../../components/ButtonSelect';import Icon from'../../../../components/Icon';var pricing=['From total income','From new raise','Placement'];export default function ReviewStep(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],set_loading=_useState2[1];var notValid=function notValid(){return Object.values(props.total_income).some(function(i){return i==='';});};var addComma=function addComma(str){return Number(str.replace(/,/g,'')).toLocaleString();};return/*#__PURE__*/React.createElement(\"section\",{className:\"ReviewStep-module\"},/*#__PURE__*/React.createElement(\"h2\",null,\"REVIEW your isa offer\"),/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"full\"},\"Client Information\"),/*#__PURE__*/React.createElement(Field,{title:\"First Name\"},props.client.first_name),/*#__PURE__*/React.createElement(Field,{title:\"Last Name\"},props.client.last_name),/*#__PURE__*/React.createElement(Field,{className:\"full\",title:\"Email Address\"},props.client.email)),/*#__PURE__*/React.createElement(\"section\",{className:\"program-info\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Program Information\"),/*#__PURE__*/React.createElement(Field,{title:\"Job Field\"},props.program.field),/*#__PURE__*/React.createElement(Input,{disabled:true,onChange:function onChange(e){return null;},placeholder:\"Duration\",value:props.program.duration,postFix:\"Weeks\"}),/*#__PURE__*/React.createElement(Field,{title:\"description\"},props.program.description)),/*#__PURE__*/React.createElement(\"section\",{className:\"offer-details\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Offer Details\"),/*#__PURE__*/React.createElement(TooltipBadge,{label:\"Pricing\",tooltip:\"help text\"}),/*#__PURE__*/React.createElement(ButtonSelect,{options:pricing,selected:props.offer.type,onSelect:function onSelect(){return null;}}),/*#__PURE__*/React.createElement(Input,{postFix:\"$\",onChange:function onChange(e){return props.onChange(e,'current_income');},placeholder:\"Current income\",value:addComma(props.total_income.current_income)}),/*#__PURE__*/React.createElement(Input,{postFix:\"%\",onChange:function onChange(e){return intOrFloat(e)&&Number(e)<100&&props.onChange(e,'percentage');},placeholder:\"Percentage to be Paid\",value:props.total_income.percentage}),/*#__PURE__*/React.createElement(Input,{postFix:\"Months\",onChange:function onChange(e){return isNumber(e)&&props.onChange(e,'time_to_be_paid');},placeholder:\"Time to be Paid\",value:props.total_income.time_to_be_paid}),/*#__PURE__*/React.createElement(Input,{postFix:\"USD\",onChange:function onChange(e){return props.onChange(e,'cap');},placeholder:\"Maximum to be paid\",value:addComma(props.total_income.cap)}),/*#__PURE__*/React.createElement(Input,{postFix:\"Week(s)\",onChange:function onChange(e){return isNumber(e)&&props.onChange(e,'cancellation_period');},placeholder:\"Cancellation Period\",value:props.total_income.cancellation_period}),/*#__PURE__*/React.createElement(Input,{postFix:\"Month(s)\",onChange:function onChange(e){return isNumber(e)&&props.onChange(e,'expiration_period_months');},placeholder:\"Expiration Period\",value:props.total_income.expiration_period_months}),/*#__PURE__*/React.createElement(Input,{postFix:\"%\",onChange:function onChange(e){return isNumber(e)&&props.onChange(e,'risk');},placeholder:\"Risk Assessment\",value:props.total_income.risk}),!notValid()&&/*#__PURE__*/React.createElement(IsaAssessment,null)),/*#__PURE__*/React.createElement(\"footer\",null,/*#__PURE__*/React.createElement(Button,{background:\"MainWarning\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:set_loading(true);_context.next=3;return props.onNext();case 3:case\"end\":return _context.stop();}}},_callee);})),disabled:notValid(),className:\"next-btn\",loading:loading},\"Next \",/*#__PURE__*/React.createElement(Icon,{icon:\"arrow-right\",style:{marginLeft:6}}))));}","map":{"version":3,"sources":["/Users/gilad/code/commitmuse/client/src/app/modules/company/CreateIsa/ReviewStep/index.tsx"],"names":["React","useState","Input","Button","TooltipBadge","intOrFloat","isNumber","IsaAssessment","Field","ButtonSelect","Icon","pricing","ReviewStep","props","loading","set_loading","notValid","Object","values","total_income","some","i","addComma","str","Number","replace","toLocaleString","client","first_name","last_name","email","program","field","e","duration","description","offer","type","onChange","current_income","percentage","time_to_be_paid","cap","cancellation_period","expiration_period_months","risk","onNext","marginLeft"],"mappings":"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","sourcesContent":["import './style.scss'\nimport React, { useState } from 'react'\nimport Input from '../../../../components/Input'\nimport Button from '../../../../components/Button'\nimport TooltipBadge from '../../../../components/TooltipBadge'\nimport { intOrFloat, isNumber } from '../../../../../helpers/base'\nimport IsaAssessment from '../../../common/IsaAssessment'\nimport Field from '../../../../components/Field'\nimport ButtonSelect from '../../../../components/ButtonSelect'\nimport Icon from '../../../../components/Icon'\nimport { IsaClient, IsaProgram } from '../../../../../interfaces/baseIntefaces'\n\nconst pricing = ['From total income', 'From new raise', 'Placement']\n\ninterface ReviewStepProps {\n  client: IsaClient\n  program: IsaProgram\n  offer: any\n  total_income: any\n  onChange(e: string, key: string): void\n  onNext(): void\n}\n\nexport default function ReviewStep(props: ReviewStepProps) {\n  const [loading, set_loading] = useState(false)\n\n  const notValid = () => Object.values(props.total_income).some(i => i === '')\n\n  const addComma = (str: string) => {\n    return Number(str.replace(/,/g, '')).toLocaleString()\n  }\n\n  return (\n    <section className=\"ReviewStep-module\">\n      <h2>REVIEW your isa offer</h2>\n      <header>\n        <h2 className=\"full\">Client Information</h2>\n        <Field title=\"First Name\">{props.client.first_name}</Field>\n        <Field title=\"Last Name\">{props.client.last_name}</Field>\n        <Field className=\"full\" title=\"Email Address\">\n          {props.client.email}\n        </Field>\n      </header>\n      <section className=\"program-info\">\n        <h2>Program Information</h2>\n        <Field title=\"Job Field\">{props.program.field}</Field>\n        <Input disabled onChange={e => null} placeholder=\"Duration\" value={props.program.duration} postFix=\"Weeks\" />\n        <Field title=\"description\">{props.program.description}</Field>\n      </section>\n      <section className=\"offer-details\">\n        <h2>Offer Details</h2>\n        <TooltipBadge label=\"Pricing\" tooltip=\"help text\" />\n        <ButtonSelect options={pricing} selected={props.offer.type} onSelect={() => null} />\n        <Input\n          postFix=\"$\"\n          onChange={e => props.onChange(e, 'current_income')}\n          placeholder=\"Current income\"\n          value={addComma(props.total_income.current_income)}\n        />\n        <Input\n          postFix=\"%\"\n          onChange={e => intOrFloat(e) && Number(e) < 100 && props.onChange(e, 'percentage')}\n          placeholder=\"Percentage to be Paid\"\n          value={props.total_income.percentage}\n        />\n        <Input\n          postFix=\"Months\"\n          onChange={e => isNumber(e) && props.onChange(e, 'time_to_be_paid')}\n          placeholder=\"Time to be Paid\"\n          value={props.total_income.time_to_be_paid}\n        />\n        <Input\n          postFix=\"USD\"\n          onChange={e => props.onChange(e, 'cap')}\n          placeholder=\"Maximum to be paid\"\n          value={addComma(props.total_income.cap)}\n        />\n        <Input\n          postFix=\"Week(s)\"\n          onChange={e => isNumber(e) && props.onChange(e, 'cancellation_period')}\n          placeholder=\"Cancellation Period\"\n          value={props.total_income.cancellation_period}\n        />\n        <Input\n          postFix=\"Month(s)\"\n          onChange={e => isNumber(e) && props.onChange(e, 'expiration_period_months')}\n          placeholder=\"Expiration Period\"\n          value={props.total_income.expiration_period_months}\n        />\n        <Input\n          postFix=\"%\"\n          onChange={e => isNumber(e) && props.onChange(e, 'risk')}\n          placeholder=\"Risk Assessment\"\n          value={props.total_income.risk}\n        />\n        {!notValid() && <IsaAssessment />}\n      </section>\n      <footer>\n        <Button\n          background=\"MainWarning\"\n          onClick={async () => {\n            set_loading(true)\n            await props.onNext()\n          }}\n          disabled={notValid()}\n          className=\"next-btn\"\n          loading={loading}\n        >\n          Next <Icon icon=\"arrow-right\" style={{ marginLeft: 6 }} />\n        </Button>\n      </footer>\n    </section>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}